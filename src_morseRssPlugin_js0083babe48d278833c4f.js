"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["src_morseRssPlugin_js"],{

/***/ "./src/morseRssPlugin.js":
/*!*******************************!*\
  !*** ./src/morseRssPlugin.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ MorseRssPlugin)
/* harmony export */ });
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var MorseRssPlugin = /*#__PURE__*/_createClass(function MorseRssPlugin() {
  _classCallCheck(this, MorseRssPlugin);
});

_defineProperty(MorseRssPlugin, "addRssFeatures", function (ko, ctxt) {
  ctxt.rssFeedUrl = ko.observable('https://moxie.foxnews.com/feedburner/latest.xml').extend({
    saveCookie: 'rssFeedUrl'
  });
  ctxt.proxydUrl = ko.observable('http://127.0.0.1:8085/').extend({
    saveCookie: 'proxydUrl'
  });
  ctxt.rssPlayMins = ko.observable(5).extend({
    saveCookie: 'rssPlayMins'
  });
  ctxt.rssPollMins = ko.observable(5).extend({
    saveCookie: 'rssPollMins'
  });
  ctxt.rssCookieWhiteList = ['rssFeedUrl', 'proxydUrl', 'rssPlayMins', 'rssPollMins'];
  ctxt.rssTitlesQueue = ko.observableArray();
  ctxt.rssPlayOn = ko.observable(false);
  ctxt.lastRSSPoll = ko.observable(new Date(1900, 0, 0));
  ctxt.rssPlayTimerHandle = null;
  ctxt.rssPollTimerHandle = null;
  ctxt.rssMinsToWait = ko.observable(-1);
  ctxt.rssPollMinsToWait = ko.observable(-1);
  ctxt.rssPollingOn = ko.observable(false);
  ctxt.rssPolling = ko.observable(false);
  ctxt.rssPlayWaitingBadgeText = ko.observable(true);
  ctxt.unreadRssCount = ko.computed(function () {
    var unread = ctxt.rssTitlesQueue().filter(function (x) {
      return !x.played;
    }); // console.log("unread:");
    // console.log(unread);

    return !unread ? 0 : unread.length;
  }, ctxt);
  ctxt.playRssButtonText = ko.computed(function () {
    var minsToWait = ctxt.rssMinsToWait();
    var waitingText = '';

    if (minsToWait > 0 && ctxt.rssPlayOn()) {
      waitingText = ' Waiting ';

      if (minsToWait > 1) {
        waitingText += Math.round(minsToWait).toString() + ' min';
      } else {
        waitingText += Math.round(60 * minsToWait).toString() + ' sec';
      }
    } // help the badge


    console.log(waitingText);
    ctxt.rssPlayWaitingBadgeText(waitingText);
    return (ctxt.rssPlayOn() ? 'Stop' : 'Play') + ' RSS (' + ctxt.unreadRssCount() + ')' + waitingText;
  }, ctxt);
  ctxt.pollRssButtonText = ko.computed(function () {
    var minsToWait = ctxt.rssPollMinsToWait();
    var waitingText = '';

    if (minsToWait > 0 && ctxt.rssPollingOn()) {
      waitingText = ' Waiting ';

      if (minsToWait > 1) {
        waitingText += Math.round(minsToWait).toString() + ' min';
      } else {
        waitingText += Math.round(60 * minsToWait).toString() + ' sec';
      }
    }

    return (ctxt.rssPollingOn() ? 'Polling' : 'Poll') + ' RSS' + waitingText;
  }, ctxt);

  ctxt.rssPlayCallback = function (ignoreWait) {
    if (ctxt.rssPlayOn()) {
      var msSince = Date.now() - ctxt.lastFullPlayTime();
      var minSince = msSince / 1000 / 60;
      var enoughWait = minSince > ctxt.rssPlayMins();

      if (!ctxt.playerPlaying()) {
        if (enoughWait || ignoreWait) {
          ctxt.rssMinsToWait(-1);

          if (ctxt.unreadRssCount() > 0) {
            var target = ctxt.rssTitlesQueue().find(function (x) {
              return !x.played;
            });
            var replacement = {
              title: target.title,
              played: true
            };
            ctxt.rssTitlesQueue.replace(target, replacement);
            ctxt.setText(target.title);
            ctxt.fullRewind();
            ctxt.doPlay();
          }
        } else {
          ctxt.rssMinsToWait(ctxt.rssPlayMins() - minSince);
        }
      }

      ctxt.rssPlayTimerHandle = setTimeout(ctxt.rssPlayCallback, 20 * 1000);
    }
  };

  ctxt.doRSSReset = function () {
    ctxt.rssTitlesQueue(ctxt.rssTitlesQueue().map(function (x) {
      x.played = true;
      return x;
    }));
  };

  ctxt.doRssPlay = function () {
    ctxt.rssPlayOn(!ctxt.rssPlayOn());

    if (ctxt.rssPlayOn()) {
      ctxt.rssPlayCallback(true);
    } else {
      if (ctxt.rssPlayTimerHandle) {
        clearTimeout(ctxt.rssPlayTimerHandle);
      }
    }

    document.getElementById('btnRssAccordionButton').click();
  };

  ctxt.doRSSCallback = function () {
    if (ctxt.rssPollingOn() && !ctxt.rssPolling()) {
      var msSince = Date.now() - ctxt.lastRSSPoll();
      var minSince = msSince / 1000 / 60;
      var enoughWait = minSince > ctxt.rssPollMins();

      if (enoughWait) {
        ctxt.rssPolling(true);
        ctxt.rssPollMinsToWait(-1); // https://github.com/rbren/rss-parser
        // ctxt helped resolve polyfill problems:
        // https://blog.alchemy.com/blog/how-to-polyfill-node-core-modules-in-webpack-5
        // note that the rss-parser module is loaded dynamically, so only if the
        // user actually goes ahead and uses RSS.

        Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_rss-parser_index_js"), __webpack_require__.e("_ed1b-_d17e")]).then(__webpack_require__.t.bind(__webpack_require__, /*! rss-parser */ "./node_modules/rss-parser/index.js", 23)).then(function (_ref) {
          var RSSParser = _ref["default"];
          var parser = new RSSParser(); // Note: some RSS feeds can't be loaded in the browser due to CORS security.
          // To get around ctxt, you can use a proxy.

          parser.parseURL(ctxt.proxydUrl() + ctxt.rssFeedUrl().toString(), function (err, feed) {
            if (err) {
              ctxt.lastRSSPoll(Date.now());
              alert('rss error');
              ctxt.rssPolling(false);
              throw err;
            } // console.log(feed.title);
            // note the reversal to get a fifo


            feed.items.reverse().forEach(function (entry) {
              // console.log(entry.title + ':' + entry.link);
              if (!ctxt.rssTitlesQueue().find(function (x) {
                return x.title === entry.title;
              })) {
                ctxt.rssTitlesQueue.push({
                  title: entry.title,
                  played: false
                });
              }
            });
            ctxt.lastRSSPoll(Date.now());
            ctxt.rssPollMinsToWait(ctxt.rssPollMins());
            ctxt.rssPolling(false);
          });
        });
      } else {
        ctxt.rssPollMinsToWait(ctxt.rssPollMins() - minSince);
      }
    }

    if (ctxt.rssPollingOn()) {
      ctxt.rssPollTimerHandle = setTimeout(ctxt.doRSSCallback, 15 * 1000);
    } else {
      if (ctxt.rssPollTimerHandle) {
        clearTimeout(ctxt.rssPollTimerHandle);
      }
    }
  };

  ctxt.doRSS = function () {
    ctxt.rssPollingOn(!ctxt.rssPollingOn());

    if (ctxt.rssPollingOn()) {
      ctxt.doRSSCallback();
    } else {
      if (ctxt.rssPollTimerHandle) {
        clearTimeout(ctxt.rssPollTimerHandle);
      }
    }
  };
});



/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX21vcnNlUnNzUGx1Z2luX2pzMDA4M2JhYmU0OGQyNzg4MzNjNGYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBQXFCQTs7OztnQkFBQUEsa0NBQ08sVUFBQ0MsRUFBRCxFQUFLQyxJQUFMLEVBQWM7QUFDcENBLEVBQUFBLElBQUksQ0FBQ0MsVUFBTCxHQUFrQkYsRUFBRSxDQUFDRyxVQUFILENBQWMsaURBQWQsRUFBaUVDLE1BQWpFLENBQXdFO0FBQUVDLElBQUFBLFVBQVUsRUFBRTtBQUFkLEdBQXhFLENBQWxCO0FBQ0FKLEVBQUFBLElBQUksQ0FBQ0ssU0FBTCxHQUFpQk4sRUFBRSxDQUFDRyxVQUFILENBQWMsd0JBQWQsRUFBd0NDLE1BQXhDLENBQStDO0FBQUVDLElBQUFBLFVBQVUsRUFBRTtBQUFkLEdBQS9DLENBQWpCO0FBQ0FKLEVBQUFBLElBQUksQ0FBQ00sV0FBTCxHQUFtQlAsRUFBRSxDQUFDRyxVQUFILENBQWMsQ0FBZCxFQUFpQkMsTUFBakIsQ0FBd0I7QUFBRUMsSUFBQUEsVUFBVSxFQUFFO0FBQWQsR0FBeEIsQ0FBbkI7QUFDQUosRUFBQUEsSUFBSSxDQUFDTyxXQUFMLEdBQW1CUixFQUFFLENBQUNHLFVBQUgsQ0FBYyxDQUFkLEVBQWlCQyxNQUFqQixDQUF3QjtBQUFFQyxJQUFBQSxVQUFVLEVBQUU7QUFBZCxHQUF4QixDQUFuQjtBQUNBSixFQUFBQSxJQUFJLENBQUNRLGtCQUFMLEdBQTBCLENBQUMsWUFBRCxFQUFlLFdBQWYsRUFBNEIsYUFBNUIsRUFBMkMsYUFBM0MsQ0FBMUI7QUFDQVIsRUFBQUEsSUFBSSxDQUFDUyxjQUFMLEdBQXNCVixFQUFFLENBQUNXLGVBQUgsRUFBdEI7QUFDQVYsRUFBQUEsSUFBSSxDQUFDVyxTQUFMLEdBQWlCWixFQUFFLENBQUNHLFVBQUgsQ0FBYyxLQUFkLENBQWpCO0FBQ0FGLEVBQUFBLElBQUksQ0FBQ1ksV0FBTCxHQUFtQmIsRUFBRSxDQUFDRyxVQUFILENBQWMsSUFBSVcsSUFBSixDQUFTLElBQVQsRUFBZSxDQUFmLEVBQWtCLENBQWxCLENBQWQsQ0FBbkI7QUFDQWIsRUFBQUEsSUFBSSxDQUFDYyxrQkFBTCxHQUEwQixJQUExQjtBQUNBZCxFQUFBQSxJQUFJLENBQUNlLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0FmLEVBQUFBLElBQUksQ0FBQ2dCLGFBQUwsR0FBcUJqQixFQUFFLENBQUNHLFVBQUgsQ0FBYyxDQUFDLENBQWYsQ0FBckI7QUFDQUYsRUFBQUEsSUFBSSxDQUFDaUIsaUJBQUwsR0FBeUJsQixFQUFFLENBQUNHLFVBQUgsQ0FBYyxDQUFDLENBQWYsQ0FBekI7QUFDQUYsRUFBQUEsSUFBSSxDQUFDa0IsWUFBTCxHQUFvQm5CLEVBQUUsQ0FBQ0csVUFBSCxDQUFjLEtBQWQsQ0FBcEI7QUFDQUYsRUFBQUEsSUFBSSxDQUFDbUIsVUFBTCxHQUFrQnBCLEVBQUUsQ0FBQ0csVUFBSCxDQUFjLEtBQWQsQ0FBbEI7QUFDQUYsRUFBQUEsSUFBSSxDQUFDb0IsdUJBQUwsR0FBK0JyQixFQUFFLENBQUNHLFVBQUgsQ0FBYyxJQUFkLENBQS9CO0FBRUFGLEVBQUFBLElBQUksQ0FBQ3FCLGNBQUwsR0FBc0J0QixFQUFFLENBQUN1QixRQUFILENBQVksWUFBTTtBQUN0QyxRQUFNQyxNQUFNLEdBQUd2QixJQUFJLENBQUNTLGNBQUwsR0FBc0JlLE1BQXRCLENBQTZCLFVBQUFDLENBQUM7QUFBQSxhQUFJLENBQUNBLENBQUMsQ0FBQ0MsTUFBUDtBQUFBLEtBQTlCLENBQWYsQ0FEc0MsQ0FFdEM7QUFDQTs7QUFDQSxXQUFPLENBQUNILE1BQUQsR0FBVSxDQUFWLEdBQWNBLE1BQU0sQ0FBQ0ksTUFBNUI7QUFDRCxHQUxxQixFQUtuQjNCLElBTG1CLENBQXRCO0FBT0FBLEVBQUFBLElBQUksQ0FBQzRCLGlCQUFMLEdBQXlCN0IsRUFBRSxDQUFDdUIsUUFBSCxDQUFZLFlBQU07QUFDekMsUUFBTU8sVUFBVSxHQUFHN0IsSUFBSSxDQUFDZ0IsYUFBTCxFQUFuQjtBQUNBLFFBQUljLFdBQVcsR0FBRyxFQUFsQjs7QUFDQSxRQUFJRCxVQUFVLEdBQUcsQ0FBYixJQUFrQjdCLElBQUksQ0FBQ1csU0FBTCxFQUF0QixFQUF3QztBQUN0Q21CLE1BQUFBLFdBQVcsR0FBRyxXQUFkOztBQUNBLFVBQUlELFVBQVUsR0FBRyxDQUFqQixFQUFvQjtBQUNsQkMsUUFBQUEsV0FBVyxJQUFJQyxJQUFJLENBQUNDLEtBQUwsQ0FBV0gsVUFBWCxFQUF1QkksUUFBdkIsS0FBb0MsTUFBbkQ7QUFDRCxPQUZELE1BRU87QUFDTEgsUUFBQUEsV0FBVyxJQUFJQyxJQUFJLENBQUNDLEtBQUwsQ0FBVyxLQUFLSCxVQUFoQixFQUE0QkksUUFBNUIsS0FBeUMsTUFBeEQ7QUFDRDtBQUNGLEtBVndDLENBV3pDOzs7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlMLFdBQVo7QUFDQTlCLElBQUFBLElBQUksQ0FBQ29CLHVCQUFMLENBQTZCVSxXQUE3QjtBQUNBLFdBQU8sQ0FBQzlCLElBQUksQ0FBQ1csU0FBTCxLQUFtQixNQUFuQixHQUE0QixNQUE3QixJQUF1QyxRQUF2QyxHQUFrRFgsSUFBSSxDQUFDcUIsY0FBTCxFQUFsRCxHQUEwRSxHQUExRSxHQUFnRlMsV0FBdkY7QUFDRCxHQWZ3QixFQWV0QjlCLElBZnNCLENBQXpCO0FBaUJBQSxFQUFBQSxJQUFJLENBQUNvQyxpQkFBTCxHQUF5QnJDLEVBQUUsQ0FBQ3VCLFFBQUgsQ0FBWSxZQUFNO0FBQ3pDLFFBQU1PLFVBQVUsR0FBRzdCLElBQUksQ0FBQ2lCLGlCQUFMLEVBQW5CO0FBQ0EsUUFBSWEsV0FBVyxHQUFHLEVBQWxCOztBQUNBLFFBQUlELFVBQVUsR0FBRyxDQUFiLElBQWtCN0IsSUFBSSxDQUFDa0IsWUFBTCxFQUF0QixFQUEyQztBQUN6Q1ksTUFBQUEsV0FBVyxHQUFHLFdBQWQ7O0FBQ0EsVUFBSUQsVUFBVSxHQUFHLENBQWpCLEVBQW9CO0FBQ2xCQyxRQUFBQSxXQUFXLElBQUlDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxVQUFYLEVBQXVCSSxRQUF2QixLQUFvQyxNQUFuRDtBQUNELE9BRkQsTUFFTztBQUNMSCxRQUFBQSxXQUFXLElBQUlDLElBQUksQ0FBQ0MsS0FBTCxDQUFXLEtBQUtILFVBQWhCLEVBQTRCSSxRQUE1QixLQUF5QyxNQUF4RDtBQUNEO0FBQ0Y7O0FBQ0QsV0FBTyxDQUFDakMsSUFBSSxDQUFDa0IsWUFBTCxLQUFzQixTQUF0QixHQUFrQyxNQUFuQyxJQUE2QyxNQUE3QyxHQUFzRFksV0FBN0Q7QUFDRCxHQVp3QixFQVl0QjlCLElBWnNCLENBQXpCOztBQWNBQSxFQUFBQSxJQUFJLENBQUNxQyxlQUFMLEdBQXVCLFVBQUNDLFVBQUQsRUFBZ0I7QUFDckMsUUFBSXRDLElBQUksQ0FBQ1csU0FBTCxFQUFKLEVBQXNCO0FBQ3BCLFVBQU00QixPQUFPLEdBQUcxQixJQUFJLENBQUMyQixHQUFMLEtBQWF4QyxJQUFJLENBQUN5QyxnQkFBTCxFQUE3QjtBQUNBLFVBQU1DLFFBQVEsR0FBR0gsT0FBTyxHQUFHLElBQVYsR0FBaUIsRUFBbEM7QUFDQSxVQUFNSSxVQUFVLEdBQUlELFFBQVEsR0FBRzFDLElBQUksQ0FBQ00sV0FBTCxFQUEvQjs7QUFDQSxVQUFJLENBQUNOLElBQUksQ0FBQzRDLGFBQUwsRUFBTCxFQUEyQjtBQUN6QixZQUFJRCxVQUFVLElBQUlMLFVBQWxCLEVBQThCO0FBQzVCdEMsVUFBQUEsSUFBSSxDQUFDZ0IsYUFBTCxDQUFtQixDQUFDLENBQXBCOztBQUNBLGNBQUloQixJQUFJLENBQUNxQixjQUFMLEtBQXdCLENBQTVCLEVBQStCO0FBQzdCLGdCQUFNd0IsTUFBTSxHQUFHN0MsSUFBSSxDQUFDUyxjQUFMLEdBQXNCcUMsSUFBdEIsQ0FBMkIsVUFBQXJCLENBQUM7QUFBQSxxQkFBSSxDQUFDQSxDQUFDLENBQUNDLE1BQVA7QUFBQSxhQUE1QixDQUFmO0FBQ0EsZ0JBQU1xQixXQUFXLEdBQUc7QUFBRUMsY0FBQUEsS0FBSyxFQUFFSCxNQUFNLENBQUNHLEtBQWhCO0FBQXVCdEIsY0FBQUEsTUFBTSxFQUFFO0FBQS9CLGFBQXBCO0FBQ0ExQixZQUFBQSxJQUFJLENBQUNTLGNBQUwsQ0FBb0J3QyxPQUFwQixDQUE0QkosTUFBNUIsRUFBb0NFLFdBQXBDO0FBRUEvQyxZQUFBQSxJQUFJLENBQUNrRCxPQUFMLENBQWFMLE1BQU0sQ0FBQ0csS0FBcEI7QUFDQWhELFlBQUFBLElBQUksQ0FBQ21ELFVBQUw7QUFDQW5ELFlBQUFBLElBQUksQ0FBQ29ELE1BQUw7QUFDRDtBQUNGLFNBWEQsTUFXTztBQUNMcEQsVUFBQUEsSUFBSSxDQUFDZ0IsYUFBTCxDQUFtQmhCLElBQUksQ0FBQ00sV0FBTCxLQUFxQm9DLFFBQXhDO0FBQ0Q7QUFDRjs7QUFDRDFDLE1BQUFBLElBQUksQ0FBQ2Msa0JBQUwsR0FBMEJ1QyxVQUFVLENBQUNyRCxJQUFJLENBQUNxQyxlQUFOLEVBQXVCLEtBQUssSUFBNUIsQ0FBcEM7QUFDRDtBQUNGLEdBdkJEOztBQXlCQXJDLEVBQUFBLElBQUksQ0FBQ3NELFVBQUwsR0FBa0IsWUFBTTtBQUN0QnRELElBQUFBLElBQUksQ0FBQ1MsY0FBTCxDQUFvQlQsSUFBSSxDQUFDUyxjQUFMLEdBQXNCOEMsR0FBdEIsQ0FBMEIsVUFBQTlCLENBQUMsRUFBSTtBQUNqREEsTUFBQUEsQ0FBQyxDQUFDQyxNQUFGLEdBQVcsSUFBWDtBQUNBLGFBQU9ELENBQVA7QUFDRCxLQUhtQixDQUFwQjtBQUlELEdBTEQ7O0FBT0F6QixFQUFBQSxJQUFJLENBQUN3RCxTQUFMLEdBQWlCLFlBQU07QUFDckJ4RCxJQUFBQSxJQUFJLENBQUNXLFNBQUwsQ0FBZSxDQUFDWCxJQUFJLENBQUNXLFNBQUwsRUFBaEI7O0FBQ0EsUUFBSVgsSUFBSSxDQUFDVyxTQUFMLEVBQUosRUFBc0I7QUFDcEJYLE1BQUFBLElBQUksQ0FBQ3FDLGVBQUwsQ0FBcUIsSUFBckI7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFJckMsSUFBSSxDQUFDYyxrQkFBVCxFQUE2QjtBQUMzQjJDLFFBQUFBLFlBQVksQ0FBQ3pELElBQUksQ0FBQ2Msa0JBQU4sQ0FBWjtBQUNEO0FBQ0Y7O0FBQ0Q0QyxJQUFBQSxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsdUJBQXhCLEVBQWlEQyxLQUFqRDtBQUNELEdBVkQ7O0FBWUE1RCxFQUFBQSxJQUFJLENBQUM2RCxhQUFMLEdBQXFCLFlBQU07QUFDekIsUUFBSTdELElBQUksQ0FBQ2tCLFlBQUwsTUFBdUIsQ0FBQ2xCLElBQUksQ0FBQ21CLFVBQUwsRUFBNUIsRUFBK0M7QUFDN0MsVUFBTW9CLE9BQU8sR0FBRzFCLElBQUksQ0FBQzJCLEdBQUwsS0FBYXhDLElBQUksQ0FBQ1ksV0FBTCxFQUE3QjtBQUNBLFVBQU04QixRQUFRLEdBQUdILE9BQU8sR0FBRyxJQUFWLEdBQWlCLEVBQWxDO0FBQ0EsVUFBTUksVUFBVSxHQUFJRCxRQUFRLEdBQUcxQyxJQUFJLENBQUNPLFdBQUwsRUFBL0I7O0FBQ0EsVUFBSW9DLFVBQUosRUFBZ0I7QUFDZDNDLFFBQUFBLElBQUksQ0FBQ21CLFVBQUwsQ0FBZ0IsSUFBaEI7QUFDQW5CLFFBQUFBLElBQUksQ0FBQ2lCLGlCQUFMLENBQXVCLENBQUMsQ0FBeEIsRUFGYyxDQUdkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsZ1FBQXFCNkMsSUFBckIsQ0FBMEIsZ0JBQTRCO0FBQUEsY0FBaEJDLFNBQWdCO0FBQ3BELGNBQU1DLE1BQU0sR0FBRyxJQUFJRCxTQUFKLEVBQWYsQ0FEb0QsQ0FFcEQ7QUFDQTs7QUFDQUMsVUFBQUEsTUFBTSxDQUFDQyxRQUFQLENBQWdCakUsSUFBSSxDQUFDSyxTQUFMLEtBQW1CTCxJQUFJLENBQUNDLFVBQUwsR0FBa0JnQyxRQUFsQixFQUFuQyxFQUFpRSxVQUFDaUMsR0FBRCxFQUFNQyxJQUFOLEVBQWU7QUFDOUUsZ0JBQUlELEdBQUosRUFBUztBQUNQbEUsY0FBQUEsSUFBSSxDQUFDWSxXQUFMLENBQWlCQyxJQUFJLENBQUMyQixHQUFMLEVBQWpCO0FBQ0E0QixjQUFBQSxLQUFLLENBQUMsV0FBRCxDQUFMO0FBQ0FwRSxjQUFBQSxJQUFJLENBQUNtQixVQUFMLENBQWdCLEtBQWhCO0FBQ0Esb0JBQU0rQyxHQUFOO0FBQ0QsYUFONkUsQ0FPOUU7QUFDQTs7O0FBQ0FDLFlBQUFBLElBQUksQ0FBQ0UsS0FBTCxDQUFXQyxPQUFYLEdBQXFCQyxPQUFyQixDQUE2QixVQUFDQyxLQUFELEVBQVc7QUFDdEM7QUFDQSxrQkFBSSxDQUFDeEUsSUFBSSxDQUFDUyxjQUFMLEdBQXNCcUMsSUFBdEIsQ0FBMkIsVUFBQXJCLENBQUM7QUFBQSx1QkFBSUEsQ0FBQyxDQUFDdUIsS0FBRixLQUFZd0IsS0FBSyxDQUFDeEIsS0FBdEI7QUFBQSxlQUE1QixDQUFMLEVBQStEO0FBQzdEaEQsZ0JBQUFBLElBQUksQ0FBQ1MsY0FBTCxDQUFvQmdFLElBQXBCLENBQXlCO0FBQUV6QixrQkFBQUEsS0FBSyxFQUFFd0IsS0FBSyxDQUFDeEIsS0FBZjtBQUFzQnRCLGtCQUFBQSxNQUFNLEVBQUU7QUFBOUIsaUJBQXpCO0FBQ0Q7QUFDRixhQUxEO0FBTUExQixZQUFBQSxJQUFJLENBQUNZLFdBQUwsQ0FBaUJDLElBQUksQ0FBQzJCLEdBQUwsRUFBakI7QUFDQXhDLFlBQUFBLElBQUksQ0FBQ2lCLGlCQUFMLENBQXVCakIsSUFBSSxDQUFDTyxXQUFMLEVBQXZCO0FBQ0FQLFlBQUFBLElBQUksQ0FBQ21CLFVBQUwsQ0FBZ0IsS0FBaEI7QUFDRCxXQWxCRDtBQW1CRCxTQXZCRDtBQXdCRCxPQWhDRCxNQWdDTztBQUNMbkIsUUFBQUEsSUFBSSxDQUFDaUIsaUJBQUwsQ0FBdUJqQixJQUFJLENBQUNPLFdBQUwsS0FBcUJtQyxRQUE1QztBQUNEO0FBQ0Y7O0FBRUQsUUFBSTFDLElBQUksQ0FBQ2tCLFlBQUwsRUFBSixFQUF5QjtBQUN2QmxCLE1BQUFBLElBQUksQ0FBQ2Usa0JBQUwsR0FBMEJzQyxVQUFVLENBQUNyRCxJQUFJLENBQUM2RCxhQUFOLEVBQXFCLEtBQUssSUFBMUIsQ0FBcEM7QUFDRCxLQUZELE1BRU87QUFDTCxVQUFJN0QsSUFBSSxDQUFDZSxrQkFBVCxFQUE2QjtBQUMzQjBDLFFBQUFBLFlBQVksQ0FBQ3pELElBQUksQ0FBQ2Usa0JBQU4sQ0FBWjtBQUNEO0FBQ0Y7QUFDRixHQWpERDs7QUFtREFmLEVBQUFBLElBQUksQ0FBQzBFLEtBQUwsR0FBYSxZQUFNO0FBQ2pCMUUsSUFBQUEsSUFBSSxDQUFDa0IsWUFBTCxDQUFrQixDQUFDbEIsSUFBSSxDQUFDa0IsWUFBTCxFQUFuQjs7QUFDQSxRQUFJbEIsSUFBSSxDQUFDa0IsWUFBTCxFQUFKLEVBQXlCO0FBQ3ZCbEIsTUFBQUEsSUFBSSxDQUFDNkQsYUFBTDtBQUNELEtBRkQsTUFFTztBQUNMLFVBQUk3RCxJQUFJLENBQUNlLGtCQUFULEVBQTZCO0FBQzNCMEMsUUFBQUEsWUFBWSxDQUFDekQsSUFBSSxDQUFDZSxrQkFBTixDQUFaO0FBQ0Q7QUFDRjtBQUNGLEdBVEQ7QUFVRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb3JzZVJzc1BsdWdpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBNb3JzZVJzc1BsdWdpbiB7XG4gICAgc3RhdGljIGFkZFJzc0ZlYXR1cmVzID0gKGtvLCBjdHh0KSA9PiB7XG4gICAgICBjdHh0LnJzc0ZlZWRVcmwgPSBrby5vYnNlcnZhYmxlKCdodHRwczovL21veGllLmZveG5ld3MuY29tL2ZlZWRidXJuZXIvbGF0ZXN0LnhtbCcpLmV4dGVuZCh7IHNhdmVDb29raWU6ICdyc3NGZWVkVXJsJyB9KVxuICAgICAgY3R4dC5wcm94eWRVcmwgPSBrby5vYnNlcnZhYmxlKCdodHRwOi8vMTI3LjAuMC4xOjgwODUvJykuZXh0ZW5kKHsgc2F2ZUNvb2tpZTogJ3Byb3h5ZFVybCcgfSlcbiAgICAgIGN0eHQucnNzUGxheU1pbnMgPSBrby5vYnNlcnZhYmxlKDUpLmV4dGVuZCh7IHNhdmVDb29raWU6ICdyc3NQbGF5TWlucycgfSlcbiAgICAgIGN0eHQucnNzUG9sbE1pbnMgPSBrby5vYnNlcnZhYmxlKDUpLmV4dGVuZCh7IHNhdmVDb29raWU6ICdyc3NQb2xsTWlucycgfSlcbiAgICAgIGN0eHQucnNzQ29va2llV2hpdGVMaXN0ID0gWydyc3NGZWVkVXJsJywgJ3Byb3h5ZFVybCcsICdyc3NQbGF5TWlucycsICdyc3NQb2xsTWlucyddXG4gICAgICBjdHh0LnJzc1RpdGxlc1F1ZXVlID0ga28ub2JzZXJ2YWJsZUFycmF5KClcbiAgICAgIGN0eHQucnNzUGxheU9uID0ga28ub2JzZXJ2YWJsZShmYWxzZSlcbiAgICAgIGN0eHQubGFzdFJTU1BvbGwgPSBrby5vYnNlcnZhYmxlKG5ldyBEYXRlKDE5MDAsIDAsIDApKVxuICAgICAgY3R4dC5yc3NQbGF5VGltZXJIYW5kbGUgPSBudWxsXG4gICAgICBjdHh0LnJzc1BvbGxUaW1lckhhbmRsZSA9IG51bGxcbiAgICAgIGN0eHQucnNzTWluc1RvV2FpdCA9IGtvLm9ic2VydmFibGUoLTEpXG4gICAgICBjdHh0LnJzc1BvbGxNaW5zVG9XYWl0ID0ga28ub2JzZXJ2YWJsZSgtMSlcbiAgICAgIGN0eHQucnNzUG9sbGluZ09uID0ga28ub2JzZXJ2YWJsZShmYWxzZSlcbiAgICAgIGN0eHQucnNzUG9sbGluZyA9IGtvLm9ic2VydmFibGUoZmFsc2UpXG4gICAgICBjdHh0LnJzc1BsYXlXYWl0aW5nQmFkZ2VUZXh0ID0ga28ub2JzZXJ2YWJsZSh0cnVlKVxuXG4gICAgICBjdHh0LnVucmVhZFJzc0NvdW50ID0ga28uY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCB1bnJlYWQgPSBjdHh0LnJzc1RpdGxlc1F1ZXVlKCkuZmlsdGVyKHggPT4gIXgucGxheWVkKVxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInVucmVhZDpcIik7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVucmVhZCk7XG4gICAgICAgIHJldHVybiAhdW5yZWFkID8gMCA6IHVucmVhZC5sZW5ndGhcbiAgICAgIH0sIGN0eHQpXG5cbiAgICAgIGN0eHQucGxheVJzc0J1dHRvblRleHQgPSBrby5jb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1pbnNUb1dhaXQgPSBjdHh0LnJzc01pbnNUb1dhaXQoKVxuICAgICAgICBsZXQgd2FpdGluZ1RleHQgPSAnJ1xuICAgICAgICBpZiAobWluc1RvV2FpdCA+IDAgJiYgY3R4dC5yc3NQbGF5T24oKSkge1xuICAgICAgICAgIHdhaXRpbmdUZXh0ID0gJyBXYWl0aW5nICdcbiAgICAgICAgICBpZiAobWluc1RvV2FpdCA+IDEpIHtcbiAgICAgICAgICAgIHdhaXRpbmdUZXh0ICs9IE1hdGgucm91bmQobWluc1RvV2FpdCkudG9TdHJpbmcoKSArICcgbWluJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3YWl0aW5nVGV4dCArPSBNYXRoLnJvdW5kKDYwICogbWluc1RvV2FpdCkudG9TdHJpbmcoKSArICcgc2VjJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBoZWxwIHRoZSBiYWRnZVxuICAgICAgICBjb25zb2xlLmxvZyh3YWl0aW5nVGV4dClcbiAgICAgICAgY3R4dC5yc3NQbGF5V2FpdGluZ0JhZGdlVGV4dCh3YWl0aW5nVGV4dClcbiAgICAgICAgcmV0dXJuIChjdHh0LnJzc1BsYXlPbigpID8gJ1N0b3AnIDogJ1BsYXknKSArICcgUlNTICgnICsgY3R4dC51bnJlYWRSc3NDb3VudCgpICsgJyknICsgd2FpdGluZ1RleHRcbiAgICAgIH0sIGN0eHQpXG5cbiAgICAgIGN0eHQucG9sbFJzc0J1dHRvblRleHQgPSBrby5jb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1pbnNUb1dhaXQgPSBjdHh0LnJzc1BvbGxNaW5zVG9XYWl0KClcbiAgICAgICAgbGV0IHdhaXRpbmdUZXh0ID0gJydcbiAgICAgICAgaWYgKG1pbnNUb1dhaXQgPiAwICYmIGN0eHQucnNzUG9sbGluZ09uKCkpIHtcbiAgICAgICAgICB3YWl0aW5nVGV4dCA9ICcgV2FpdGluZyAnXG4gICAgICAgICAgaWYgKG1pbnNUb1dhaXQgPiAxKSB7XG4gICAgICAgICAgICB3YWl0aW5nVGV4dCArPSBNYXRoLnJvdW5kKG1pbnNUb1dhaXQpLnRvU3RyaW5nKCkgKyAnIG1pbidcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2FpdGluZ1RleHQgKz0gTWF0aC5yb3VuZCg2MCAqIG1pbnNUb1dhaXQpLnRvU3RyaW5nKCkgKyAnIHNlYydcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChjdHh0LnJzc1BvbGxpbmdPbigpID8gJ1BvbGxpbmcnIDogJ1BvbGwnKSArICcgUlNTJyArIHdhaXRpbmdUZXh0XG4gICAgICB9LCBjdHh0KVxuXG4gICAgICBjdHh0LnJzc1BsYXlDYWxsYmFjayA9IChpZ25vcmVXYWl0KSA9PiB7XG4gICAgICAgIGlmIChjdHh0LnJzc1BsYXlPbigpKSB7XG4gICAgICAgICAgY29uc3QgbXNTaW5jZSA9IERhdGUubm93KCkgLSBjdHh0Lmxhc3RGdWxsUGxheVRpbWUoKVxuICAgICAgICAgIGNvbnN0IG1pblNpbmNlID0gbXNTaW5jZSAvIDEwMDAgLyA2MFxuICAgICAgICAgIGNvbnN0IGVub3VnaFdhaXQgPSAobWluU2luY2UgPiBjdHh0LnJzc1BsYXlNaW5zKCkpXG4gICAgICAgICAgaWYgKCFjdHh0LnBsYXllclBsYXlpbmcoKSkge1xuICAgICAgICAgICAgaWYgKGVub3VnaFdhaXQgfHwgaWdub3JlV2FpdCkge1xuICAgICAgICAgICAgICBjdHh0LnJzc01pbnNUb1dhaXQoLTEpXG4gICAgICAgICAgICAgIGlmIChjdHh0LnVucmVhZFJzc0NvdW50KCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gY3R4dC5yc3NUaXRsZXNRdWV1ZSgpLmZpbmQoeCA9PiAheC5wbGF5ZWQpXG4gICAgICAgICAgICAgICAgY29uc3QgcmVwbGFjZW1lbnQgPSB7IHRpdGxlOiB0YXJnZXQudGl0bGUsIHBsYXllZDogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgY3R4dC5yc3NUaXRsZXNRdWV1ZS5yZXBsYWNlKHRhcmdldCwgcmVwbGFjZW1lbnQpXG5cbiAgICAgICAgICAgICAgICBjdHh0LnNldFRleHQodGFyZ2V0LnRpdGxlKVxuICAgICAgICAgICAgICAgIGN0eHQuZnVsbFJld2luZCgpXG4gICAgICAgICAgICAgICAgY3R4dC5kb1BsYXkoKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdHh0LnJzc01pbnNUb1dhaXQoY3R4dC5yc3NQbGF5TWlucygpIC0gbWluU2luY2UpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGN0eHQucnNzUGxheVRpbWVySGFuZGxlID0gc2V0VGltZW91dChjdHh0LnJzc1BsYXlDYWxsYmFjaywgMjAgKiAxMDAwKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN0eHQuZG9SU1NSZXNldCA9ICgpID0+IHtcbiAgICAgICAgY3R4dC5yc3NUaXRsZXNRdWV1ZShjdHh0LnJzc1RpdGxlc1F1ZXVlKCkubWFwKHggPT4ge1xuICAgICAgICAgIHgucGxheWVkID0gdHJ1ZVxuICAgICAgICAgIHJldHVybiB4XG4gICAgICAgIH0pKVxuICAgICAgfVxuXG4gICAgICBjdHh0LmRvUnNzUGxheSA9ICgpID0+IHtcbiAgICAgICAgY3R4dC5yc3NQbGF5T24oIWN0eHQucnNzUGxheU9uKCkpXG4gICAgICAgIGlmIChjdHh0LnJzc1BsYXlPbigpKSB7XG4gICAgICAgICAgY3R4dC5yc3NQbGF5Q2FsbGJhY2sodHJ1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3R4dC5yc3NQbGF5VGltZXJIYW5kbGUpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjdHh0LnJzc1BsYXlUaW1lckhhbmRsZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blJzc0FjY29yZGlvbkJ1dHRvbicpLmNsaWNrKClcbiAgICAgIH1cblxuICAgICAgY3R4dC5kb1JTU0NhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICBpZiAoY3R4dC5yc3NQb2xsaW5nT24oKSAmJiAhY3R4dC5yc3NQb2xsaW5nKCkpIHtcbiAgICAgICAgICBjb25zdCBtc1NpbmNlID0gRGF0ZS5ub3coKSAtIGN0eHQubGFzdFJTU1BvbGwoKVxuICAgICAgICAgIGNvbnN0IG1pblNpbmNlID0gbXNTaW5jZSAvIDEwMDAgLyA2MFxuICAgICAgICAgIGNvbnN0IGVub3VnaFdhaXQgPSAobWluU2luY2UgPiBjdHh0LnJzc1BvbGxNaW5zKCkpXG4gICAgICAgICAgaWYgKGVub3VnaFdhaXQpIHtcbiAgICAgICAgICAgIGN0eHQucnNzUG9sbGluZyh0cnVlKVxuICAgICAgICAgICAgY3R4dC5yc3NQb2xsTWluc1RvV2FpdCgtMSlcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yYnJlbi9yc3MtcGFyc2VyXG4gICAgICAgICAgICAvLyBjdHh0IGhlbHBlZCByZXNvbHZlIHBvbHlmaWxsIHByb2JsZW1zOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9ibG9nLmFsY2hlbXkuY29tL2Jsb2cvaG93LXRvLXBvbHlmaWxsLW5vZGUtY29yZS1tb2R1bGVzLWluLXdlYnBhY2stNVxuICAgICAgICAgICAgLy8gbm90ZSB0aGF0IHRoZSByc3MtcGFyc2VyIG1vZHVsZSBpcyBsb2FkZWQgZHluYW1pY2FsbHksIHNvIG9ubHkgaWYgdGhlXG4gICAgICAgICAgICAvLyB1c2VyIGFjdHVhbGx5IGdvZXMgYWhlYWQgYW5kIHVzZXMgUlNTLlxuICAgICAgICAgICAgaW1wb3J0KCdyc3MtcGFyc2VyJykudGhlbigoeyBkZWZhdWx0OiBSU1NQYXJzZXIgfSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgUlNTUGFyc2VyKClcbiAgICAgICAgICAgICAgLy8gTm90ZTogc29tZSBSU1MgZmVlZHMgY2FuJ3QgYmUgbG9hZGVkIGluIHRoZSBicm93c2VyIGR1ZSB0byBDT1JTIHNlY3VyaXR5LlxuICAgICAgICAgICAgICAvLyBUbyBnZXQgYXJvdW5kIGN0eHQsIHlvdSBjYW4gdXNlIGEgcHJveHkuXG4gICAgICAgICAgICAgIHBhcnNlci5wYXJzZVVSTChjdHh0LnByb3h5ZFVybCgpICsgY3R4dC5yc3NGZWVkVXJsKCkudG9TdHJpbmcoKSwgKGVyciwgZmVlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIGN0eHQubGFzdFJTU1BvbGwoRGF0ZS5ub3coKSlcbiAgICAgICAgICAgICAgICAgIGFsZXJ0KCdyc3MgZXJyb3InKVxuICAgICAgICAgICAgICAgICAgY3R4dC5yc3NQb2xsaW5nKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZlZWQudGl0bGUpO1xuICAgICAgICAgICAgICAgIC8vIG5vdGUgdGhlIHJldmVyc2FsIHRvIGdldCBhIGZpZm9cbiAgICAgICAgICAgICAgICBmZWVkLml0ZW1zLnJldmVyc2UoKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZW50cnkudGl0bGUgKyAnOicgKyBlbnRyeS5saW5rKTtcbiAgICAgICAgICAgICAgICAgIGlmICghY3R4dC5yc3NUaXRsZXNRdWV1ZSgpLmZpbmQoeCA9PiB4LnRpdGxlID09PSBlbnRyeS50aXRsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4dC5yc3NUaXRsZXNRdWV1ZS5wdXNoKHsgdGl0bGU6IGVudHJ5LnRpdGxlLCBwbGF5ZWQ6IGZhbHNlIH0pXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBjdHh0Lmxhc3RSU1NQb2xsKERhdGUubm93KCkpXG4gICAgICAgICAgICAgICAgY3R4dC5yc3NQb2xsTWluc1RvV2FpdChjdHh0LnJzc1BvbGxNaW5zKCkpXG4gICAgICAgICAgICAgICAgY3R4dC5yc3NQb2xsaW5nKGZhbHNlKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4dC5yc3NQb2xsTWluc1RvV2FpdChjdHh0LnJzc1BvbGxNaW5zKCkgLSBtaW5TaW5jZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3R4dC5yc3NQb2xsaW5nT24oKSkge1xuICAgICAgICAgIGN0eHQucnNzUG9sbFRpbWVySGFuZGxlID0gc2V0VGltZW91dChjdHh0LmRvUlNTQ2FsbGJhY2ssIDE1ICogMTAwMClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3R4dC5yc3NQb2xsVGltZXJIYW5kbGUpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjdHh0LnJzc1BvbGxUaW1lckhhbmRsZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY3R4dC5kb1JTUyA9ICgpID0+IHtcbiAgICAgICAgY3R4dC5yc3NQb2xsaW5nT24oIWN0eHQucnNzUG9sbGluZ09uKCkpXG4gICAgICAgIGlmIChjdHh0LnJzc1BvbGxpbmdPbigpKSB7XG4gICAgICAgICAgY3R4dC5kb1JTU0NhbGxiYWNrKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoY3R4dC5yc3NQb2xsVGltZXJIYW5kbGUpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjdHh0LnJzc1BvbGxUaW1lckhhbmRsZSlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOlsiTW9yc2VSc3NQbHVnaW4iLCJrbyIsImN0eHQiLCJyc3NGZWVkVXJsIiwib2JzZXJ2YWJsZSIsImV4dGVuZCIsInNhdmVDb29raWUiLCJwcm94eWRVcmwiLCJyc3NQbGF5TWlucyIsInJzc1BvbGxNaW5zIiwicnNzQ29va2llV2hpdGVMaXN0IiwicnNzVGl0bGVzUXVldWUiLCJvYnNlcnZhYmxlQXJyYXkiLCJyc3NQbGF5T24iLCJsYXN0UlNTUG9sbCIsIkRhdGUiLCJyc3NQbGF5VGltZXJIYW5kbGUiLCJyc3NQb2xsVGltZXJIYW5kbGUiLCJyc3NNaW5zVG9XYWl0IiwicnNzUG9sbE1pbnNUb1dhaXQiLCJyc3NQb2xsaW5nT24iLCJyc3NQb2xsaW5nIiwicnNzUGxheVdhaXRpbmdCYWRnZVRleHQiLCJ1bnJlYWRSc3NDb3VudCIsImNvbXB1dGVkIiwidW5yZWFkIiwiZmlsdGVyIiwieCIsInBsYXllZCIsImxlbmd0aCIsInBsYXlSc3NCdXR0b25UZXh0IiwibWluc1RvV2FpdCIsIndhaXRpbmdUZXh0IiwiTWF0aCIsInJvdW5kIiwidG9TdHJpbmciLCJjb25zb2xlIiwibG9nIiwicG9sbFJzc0J1dHRvblRleHQiLCJyc3NQbGF5Q2FsbGJhY2siLCJpZ25vcmVXYWl0IiwibXNTaW5jZSIsIm5vdyIsImxhc3RGdWxsUGxheVRpbWUiLCJtaW5TaW5jZSIsImVub3VnaFdhaXQiLCJwbGF5ZXJQbGF5aW5nIiwidGFyZ2V0IiwiZmluZCIsInJlcGxhY2VtZW50IiwidGl0bGUiLCJyZXBsYWNlIiwic2V0VGV4dCIsImZ1bGxSZXdpbmQiLCJkb1BsYXkiLCJzZXRUaW1lb3V0IiwiZG9SU1NSZXNldCIsIm1hcCIsImRvUnNzUGxheSIsImNsZWFyVGltZW91dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjbGljayIsImRvUlNTQ2FsbGJhY2siLCJ0aGVuIiwiUlNTUGFyc2VyIiwicGFyc2VyIiwicGFyc2VVUkwiLCJlcnIiLCJmZWVkIiwiYWxlcnQiLCJpdGVtcyIsInJldmVyc2UiLCJmb3JFYWNoIiwiZW50cnkiLCJwdXNoIiwiZG9SU1MiXSwic291cmNlUm9vdCI6IiJ9